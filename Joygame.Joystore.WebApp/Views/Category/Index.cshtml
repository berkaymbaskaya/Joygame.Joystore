@using Joygame.Joystore.WebApp.Models.Category
@model List<CategoryModel>

@{
    ViewData["Title"] = "Category List";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container mt-5">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="fw-bold">@ViewData["Title"]</h2>
    </div>

    @if (Model != null && Model.Any())
    {
        <ul class="list-group">
            @foreach (var category in Model)
            {
                if (category.ParentId == null)
                {
                    <li class="list-group-item bg-light border-start">
                         <strong>@category.Name</strong>

                        @if (category.Children.Any())
                        {
                            <ul class="list-group mt-2 ms-4">
                                @foreach (var child in category.Children)
                                {
                                    <li class="list-group-item bg-white">
                                         <strong>@child.Name</strong>
                                    </li>
                                }
                            </ul>
                        }
                    </li>
                }
            }
        </ul>
    }
    else
    {
        <div class="alert alert-info">No category found.</div>
    }
</div>
